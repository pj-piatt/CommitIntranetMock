<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Human Resources | Commit Intranet</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <link rel="stylesheet" href="../css/ai-assistant.css" />
  <script defer src="../js/scripts.js"></script>
  <style>
  .calendar-container {
    max-width: 800px;
    margin: 2rem auto;
    background: #fff;
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
  }

  .calendar-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 10px;
  }

  .day {
    text-align: center;
    padding: 0.5rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    min-height: 70px;
  }

  .day.today {
    background-color: #f5faff;
    border: 2px solid #0078d4;
    font-weight: bold;
  }

  .event {
    font-size: 0.75rem;
    margin-top: 5px;
    color: #444;
  }
</style>

</head>
<body>
  <div class="layout">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Department Navigation">
      <div class="sidebar-header">
        <img src="../assets/commit-logo-white.svg" alt="Commit Logo" class="sidebar-logo" />    
      </div>
      <nav>
        <ul>
          <h2>Departments</h2>
          <li><a href="hr.html" class="active">👥 HR</a></li>
          <li><a href="it.html">💻 IT Support</a></li>
          <li><a href="operations.html">📦 Operations</a></li>
          <li><a href="policy.html">📜 Policy</a></li>
          <li><a href="development.html">💡 Development</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <div class="main-content">
      <header class="site-header">
        <h1>Human Resources</h1>
        <nav class="topnav">
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../news.html">News</a></li>
            <li><a href="../calendar.html">Calendar</a></li>
            <li><a href="../documents.html">Documents</a></li>
            <li><a href="../shoutouts.html">Shoutouts</a></li>
            <li><a href="../wiki.html">Wiki</a></li>
          </ul>
        </nav>
      </header>

      <main class="container">
        <section class="panel">
          <h2>Upcoming Birthdays</h2>
          <ul>
            <li>Aug 5 - Jane Doe</li>
            <li>Aug 12 - Mike Smith</li>
          </ul>
        </section>

        <section class="panel">
          <h2>PTO Calendar</h2>
          <div class="calendar-container">
            <div class="calendar-header">
              <h3 id="month-year"></h3>
              <button onclick="prevMonth()">←</button>
              <button onclick="nextMonth()">→</button>
            </div>
            <div class="calendar-grid" id="calendar-grid"></div>
          </div>
        </section>

        <section class="panel">
          <h2>PTO Request Form</h2>
          <form id="pto-form">
            <label>Name: <input type="text" name="name" required /></label>
            <label>Start Date: <input type="date" name="start" required /></label>
            <label>End Date: <input type="date" name="end" required /></label>
            <button type="submit">Submit Request</button>
            <p id="pto-success" style="display:none; color:green;">Request submitted successfully!</p>
          </form>
        </section>

        <section class="panel">
          <h2>HR Documents</h2>
          <ul>
            <li><a href="#">Employee Handbook.pdf</a></li>
            <li><a href="#">Benefits Overview.pdf</a></li>
          </ul>
        </section>
      </main>

      <footer class="site-footer">
        <p>© 2025 The Commit Partnership. All rights reserved.</p>
      </footer>
    </div>
  </div>

  <!-- Calendar Script -->
  <script>
    const calendarGrid = document.getElementById("calendar-grid");
    const monthYear = document.getElementById("month-year");
    let currentDate = new Date();

    const events = {
      "2025-08-05": "All-Staff Meeting",
      "2025-08-12": "Summer PTO Deadline",
      "2025-08-20": "Birthday Bash 🎉",
      "2025-08-30": "Labor Day PTO"
    };

    function renderCalendar(date) {
      const year = date.getFullYear();
      const month = date.getMonth();
      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      calendarGrid.innerHTML = "";
      monthYear.textContent = `${date.toLocaleString("default", { month: "long" })} ${year}`;

      ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"].forEach(day => {
        const div = document.createElement("div");
        div.className = "day";
        div.style.fontWeight = "bold";
        div.textContent = day;
        calendarGrid.appendChild(div);
      });

      for (let i = 0; i < firstDay; i++) {
        const empty = document.createElement("div");
        empty.className = "day";
        calendarGrid.appendChild(empty);
      }

      for (let d = 1; d <= daysInMonth; d++) {
        const dayDiv = document.createElement("div");
        const current = new Date();
        const cellDate = new Date(year, month, d);
        const iso = cellDate.toISOString().split("T")[0];

        dayDiv.className = "day";
        if (
          cellDate.getDate() === current.getDate() &&
          cellDate.getMonth() === current.getMonth() &&
          cellDate.getFullYear() === current.getFullYear()
        ) {
          dayDiv.classList.add("today");
        }

        dayDiv.innerHTML = `<strong>${d}</strong>`;
        if (events[iso]) {
          const event = document.createElement("div");
          event.className = "event";
          event.textContent = events[iso];
          dayDiv.appendChild(event);
        }

        calendarGrid.appendChild(dayDiv);
      }
    }

    function prevMonth() {
      currentDate.setMonth(currentDate.getMonth() - 1);
      renderCalendar(currentDate);
    }

    function nextMonth() {
      currentDate.setMonth(currentDate.getMonth() + 1);
      renderCalendar(currentDate);
    }

    renderCalendar(currentDate);
  </script>

  <!-- AI Assistant Bubble -->
<div id="ai-chat-widget">
  <button id="ai-toggle" aria-label="Open AI Assistant">🤖</button>
  <div id="ai-chat-window" style="display: none;">
    <div class="ai-chat-header">
      <span>Commit AI Assistant</span>
      <button id="ai-close">×</button>
    </div>
    <div class="ai-chat-body" id="ai-messages"></div>
    <textarea id="ai-user-input" placeholder="Ask a question..."></textarea>
    <button id="ai-send">Send</button>
  </div>
</div>

<script src="../js/ai-assistant.js" defer></script>
  
</body>
</html>
